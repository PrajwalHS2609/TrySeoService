<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"
    />
    <meta
      name="google-site-verification"
      content="FWwxRSWdpG_SfI8-B-tFo1rG19PEXzw3QdeDSlQF2aA"
    />

    <!-- Google tag (gtag.js) -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-6YB819D36Q"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "G-6YB819D36Q");
    </script>

    <!-- 🌍 Country-based redirect script -->
    <script>
      (async function () {
        const params = new URLSearchParams(window.location.search);
        const mockCountry = params.get("country")?.toUpperCase();

        try {
          const res = await fetch("https://ipapi.co/json/");
          const data = await res.json();

          let countryCode = mockCountry || data.country_code;

          // Normalize GB to UK
          if (countryCode === "GB") countryCode = "UK";

          const redirectMap = {
            IN: "https://tryseoservices.com/in",
            US: "https://tryseoservices.com/us",
            CA: "https://tryseoservices.com/ca",
            UK: "https://tryseoservices.com/uk",
            AU: "https://tryseoservices.com/au",
            DE: "https://tryseoservices.com/de",
            FR: "https://tryseoservices.com/fr",
            JP: "https://tryseoservices.com/jp",
            AE: "https://tryseoservices.com/ae",
          };

          // Save for later use
          localStorage.setItem("preferredCountry", countryCode);

          const target = redirectMap[countryCode];

          if (
            target &&
            (window.location.pathname === "/" ||
              window.location.pathname === "/index.html")
          ) {
            window.location.replace(target);
          }
        } catch (err) {
          console.error("Geo redirect failed:", err);
        }
      })();
    </script>

    <link rel="icon" href="./images/faviconPerfect.png" />
    <title>TrySeoService</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
